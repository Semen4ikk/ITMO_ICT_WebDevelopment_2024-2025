<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Страницы - Документация BusApp</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Документация BusApp</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Лабораторная работа 1</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lab1/task1/" class="dropdown-item">Задача 1</a>
</li>
                                    
<li>
    <a href="../../lab1/task2/" class="dropdown-item">Задача 2</a>
</li>
                                    
<li>
    <a href="../../lab1/task3/" class="dropdown-item">Задача 3</a>
</li>
                                    
<li>
    <a href="../../lab1/task4/" class="dropdown-item">Задача 4</a>
</li>
                                    
<li>
    <a href="../../lab1/task5/" class="dropdown-item">Задача 5</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Лабораторная работа 2</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lab2/forms/" class="dropdown-item">Forms</a>
</li>
                                    
<li>
    <a href="../../lab2/models/" class="dropdown-item">Модели</a>
</li>
                                    
<li>
    <a href="../../lab2/settings/" class="dropdown-item">Настройки</a>
</li>
                                    
<li>
    <a href="../../lab2/urls/" class="dropdown-item">URL-адреса</a>
</li>
                                    
<li>
    <a href="../../lab2/views/" class="dropdown-item">Представления</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Лабораторная работа 3</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lab3/Swagger/" class="dropdown-item">Swagger</a>
</li>
                                    
<li>
    <a href="../../lab3/models/" class="dropdown-item">Модели</a>
</li>
                                    
<li>
    <a href="../../lab3/serializers/" class="dropdown-item">Сериализаторы</a>
</li>
                                    
<li>
    <a href="../../lab3/settings/" class="dropdown-item">Настройки</a>
</li>
                                    
<li>
    <a href="../../lab3/urls/" class="dropdown-item">URL-адреса</a>
</li>
                                    
<li>
    <a href="../../lab3/views/" class="dropdown-item">Представления</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Лабораторная работа 4</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../app/" class="dropdown-item">Приложение</a>
</li>
                                    
<li>
    <a href="../components/" class="dropdown-item">Компоненты</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Страницы</a>
</li>
                                    
<li>
    <a href="../stores/" class="dropdown-item">Stores</a>
</li>
                                    
<li>
    <a href="../utils/" class="dropdown-item">Утилиты</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Литкоды</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Leetcode/leetcode/" class="dropdown-item">Приложение</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Практика</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Pr3/pr3/" class="dropdown-item">Приложение</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../components/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../stores/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#_1" class="nav-link">Страницы</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#_2" class="nav-link">Описание</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_3" class="nav-link">Стек</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_4" class="nav-link">Листинг</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="_1">Страницы</h1>
<h2 id="_2">Описание</h2>
<p>Реализовать страницы для фронта.</p>
<h2 id="_3">Стек</h2>
<ul>
<li>JavaScript</li>
<li>node.js</li>
<li>React</li>
<li>axios</li>
</ul>
<h2 id="_4">Листинг</h2>
<h3 id="loginpagejsx">LoginPage.jsx:</h3>
<ul>
<li>Авторизация</li>
</ul>
<pre><code class="language-jsx">import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useToken } from '../stores/token';
import axios from '../utils/axiosConfig';
import '../Css/LoginPage.css';
const LoginPage = () =&gt; {
    const [form, setForm] = useState({
        username: '',
        password: ''
    });
    const { setToken } = useToken();
    const navigate = useNavigate();

    const handleChange = (e) =&gt; {
        const { name, value } = e.target;
        setForm({
            ...form,
            [name]: value
        });
    };

    const login = async () =&gt; {
        console.log('Login button clicked');
        console.log('Form data:', form);
        try {
            const response = await axios.post('api/auth/token/login/', form);
            if (response.status === 200) {
                setToken(response.data.auth_token);
                navigate('/');
            }
        } catch (error) {
            console.error('Ошибка входа:', error.response?.data || error.message);
        }
    };

    const register = () =&gt; {
        navigate('/register');
    };

    return (
        &lt;div className=&quot;login-container&quot;&gt;
            &lt;h2&gt;Вход&lt;/h2&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;username&quot;
                placeholder=&quot;Логин&quot;
                value={form.username}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;password&quot;
                name=&quot;password&quot;
                placeholder=&quot;Пароль&quot;
                value={form.password}
                onChange={handleChange}
                required
            /&gt;
            &lt;div className=&quot;button-container&quot;&gt;
                &lt;button onClick={login}&gt;Войти&lt;/button&gt;
                &lt;button onClick={register}&gt;Зарегистрироваться&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
};

export default LoginPage;
</code></pre>
<h3 id="registerpagejsx">RegisterPage.jsx:</h3>
<ul>
<li>Регистрация</li>
</ul>
<pre><code class="language-jsx">import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import axios from '../utils/axiosConfig';
import { useToken } from '../stores/token';
import '../Css/RegisterPage.css';
const RegisterPage = () =&gt; {
    const [form, setForm] = useState({
        email: '',
        username: '',
        password: '',
        re_password: ''
    });
    const { setToken } = useToken();
    const navigate = useNavigate();

    const handleChange = (e) =&gt; {
        const { name, value } = e.target;
        setForm({
            ...form,
            [name]: value
        });
    };

    const register = async () =&gt; {
        try {
            const response = await axios.post('/auth/users/', {
                email: form.email,
                username: form.username,
                password: form.password,
                re_password: form.re_password
            });

            if (response.status === 201) {
                const token = await getToken(form.username, form.password);
                if (token) {
                    setToken(token);
                    navigate('/');
                }
            }
        } catch (error) {
            console.error('Ошибка регистрации:', error.response?.data || error.message);
        }
    };

    const getToken = async (username, password) =&gt; {
        try {
            const response = await axios.post('/auth/token/login/', { username, password });
            if (response.status === 200) return response.data.auth_token;
        } catch (error) {
            console.error('Ошибка получения токена:', error.response?.data || error.message);
            return null;
        }
    };

    const login = () =&gt; navigate('/login');
    return (
        &lt;div className=&quot;register-container&quot;&gt;
            &lt;h2&gt;Регистрация&lt;/h2&gt;
            &lt;input
                type=&quot;email&quot;
                name=&quot;email&quot;
                placeholder=&quot;Почта&quot;
                value={form.email}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;username&quot;
                placeholder=&quot;Логин&quot;
                value={form.username}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;password&quot;
                name=&quot;password&quot;
                placeholder=&quot;Пароль&quot;
                value={form.password}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;password&quot;
                name=&quot;re_password&quot;
                placeholder=&quot;Повторите пароль&quot;
                value={form.re_password}
                onChange={handleChange}
                required
            /&gt;
            &lt;div className=&quot;button-container&quot;&gt;
                &lt;button onClick={register}&gt;Зарегистрироваться&lt;/button&gt;
                &lt;button onClick={login}&gt;Войти&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
};

export default RegisterPage;
</code></pre>
<h3 id="busespagejsx">BusesPage.jsx:</h3>
<ul>
<li>Страница Автобусов</li>
</ul>
<pre><code class="language-jsx">import React, { useEffect, useState } from 'react';
import axios from 'axios';
import { useToken } from '../stores/token';
import Header from '../components/header.jsx';
import '../Css/BusesPage.css';

const BusesPage = () =&gt; {
    const [buses, setBuses] = useState([]);
    const [busTypes, setBusTypes] = useState([]);
    const [form, setForm] = useState({
        bus_type: '',
        registration_number: '',
        in_service: false,
    });
    const [editBusId, setEditBusId] = useState(null);
    const { token } = useToken();

    useEffect(() =&gt; {
        fetchBuses();
        fetchBusTypes();
    }, []);

    const fetchBuses = async () =&gt; {
        try {
            const response = await axios.get('/api/buses/', {
                headers: { Authorization: `Token ${token}` }
            });
            setBuses(response.data);
        } catch (error) {
            console.error('Ошибка при получении автобусов:', error.response?.data || error.message);
        }
    };

    const fetchBusTypes = async () =&gt; {
        try {
            const response = await axios.get('/api/bus-types/', {
                headers: { Authorization: `Token ${token}` }
            });
            setBusTypes(response.data);
        } catch (error) {
            console.error('Ошибка при получении типов автобусов:', error.response?.data || error.message);
        }
    };

    const handleChange = (e) =&gt; {
        const { name, value } = e.target;
        setForm({
            ...form,
            [name]: value,
        });
    };

    const handleCheckboxChange = (e) =&gt; {
        setForm({
            ...form,
            in_service: e.target.checked,
        });
    };

    const addBus = async () =&gt; {
        try {
            const response = await axios.post('/api/buses/', form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 201) {
                fetchBuses();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при добавлении автобуса:', error.response?.data || error.message);
        }
    };

    const resetForm = () =&gt; {
        setForm({
            bus_type: '',
            registration_number: '',
            in_service: false,
        });
        setEditBusId(null);
    };

    const editBus = (bus) =&gt; {
        setForm({
            bus_type: bus.bus_type.id,
            registration_number: bus.registration_number,
            in_service: bus.in_service,
        });
        setEditBusId(bus.id);
    };

    const updateBus = async () =&gt; {
        try {
            const response = await axios.put(`/api/buses/${editBusId}/`, form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 200) {
                fetchBuses();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при обновлении автобуса:', error.response?.data || error.message);
        }
    };

    const deleteBus = async (id) =&gt; {
        if (window.confirm('Вы уверены, что хотите удалить этот автобус?')) {
            try {
                await axios.delete(`/api/buses/${id}/`, {
                    headers: { Authorization: `Token ${token}` }
                });
                fetchBuses();
            } catch (error) {
                console.error('Ошибка при удалении автобуса:', error.response?.data || error.message);
            }
        }
    };

    return (
        &lt;div className=&quot;buses-container&quot;&gt;
            &lt;Header /&gt;
            &lt;h2&gt;Список автобусов&lt;/h2&gt;
            &lt;table&gt;
                &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ID&lt;/th&gt;
                    &lt;th&gt;Тип автобуса&lt;/th&gt;
                    &lt;th&gt;Регистрационный номер&lt;/th&gt;
                    &lt;th&gt;В эксплуатации&lt;/th&gt;
                    &lt;th&gt;Действия&lt;/th&gt;
                &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                {buses.map((bus) =&gt; (
                    &lt;tr key={bus.id}&gt;
                        &lt;td&gt;{bus.id}&lt;/td&gt;
                        &lt;td&gt;{bus.bus_type.name}&lt;/td&gt;
                        &lt;td&gt;{bus.registration_number}&lt;/td&gt;
                        &lt;td&gt;{bus.in_service ? 'Да' : 'Нет'}&lt;/td&gt;
                        &lt;td&gt;
                            &lt;button onClick={() =&gt; editBus(bus)}&gt;Редактировать&lt;/button&gt;
                            &lt;button onClick={() =&gt; deleteBus(bus.id)}&gt;Удалить&lt;/button&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                ))}
                &lt;/tbody&gt;
            &lt;/table&gt;

            &lt;h3&gt;{editBusId ? 'Редактировать автобус' : 'Добавить автобус'}&lt;/h3&gt;

            &lt;select name=&quot;bus_type&quot; value={form.bus_type} onChange={handleChange} required&gt;
                &lt;option value=&quot;&quot;&gt;Выберите тип автобуса&lt;/option&gt;
                {busTypes.map((type) =&gt; (
                    &lt;option key={type.id} value={type.id}&gt;
                        {type.name} - Вместимость: {type.capacity}
                    &lt;/option&gt;
                ))}
            &lt;/select&gt;

            &lt;input
                type=&quot;text&quot;
                name=&quot;registration_number&quot;
                placeholder=&quot;Регистрационный номер&quot;
                value={form.registration_number}
                onChange={handleChange}
                required
            /&gt;
            &lt;label&gt;
                В эксплуатации:
                &lt;input
                    type=&quot;checkbox&quot;
                    checked={form.in_service}
                    onChange={handleCheckboxChange}
                /&gt;
            &lt;/label&gt;

            {/* Кнопки */}
            {editBusId ? (
                &lt;button onClick={updateBus}&gt;Обновить автобус&lt;/button&gt;
            ) : (
                &lt;button onClick={addBus}&gt;Добавить автобус&lt;/button&gt;
            )}
        &lt;/div&gt;
    );
};

export default BusesPage;
</code></pre>
<h3 id="bustypespagejsx">BusTypesPage.jsx:</h3>
<ul>
<li>Страница типов Автобусов</li>
</ul>
<pre><code class="language-jsx">import React, { useEffect, useState } from 'react';
import axios from 'axios';
import { useToken } from '../stores/token';
import Header from '../components/header.jsx';
import '../Css/BusTypesPage.css';
const BusTypesPage = () =&gt; {
    const [busTypes, setBusTypes] = useState([]);
    const [form, setForm] = useState({
        name: '',
        capacity: 0,
    });
    const [editBusTypeId, setEditBusTypeId] = useState(null);
    const { token } = useToken();

    useEffect(() =&gt; {
        fetchBusTypes();
    }, []);

    const fetchBusTypes = async () =&gt; {
        try {
            const response = await axios.get('/api/bus-types/', {
                headers: { Authorization: `Token ${token}` }
            });
            setBusTypes(response.data);
        } catch (error) {
            console.error('Ошибка при получении типов автобусов:', error.response?.data || error.message);
        }
    };

    const handleChange = (e) =&gt; {
        const { name, value } = e.target;
        setForm({
            ...form,
            [name]: value,
        });
    };

    const addBusType = async () =&gt; {
        try {
            const response = await axios.post('/api/bus-types/', form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 201) {
                fetchBusTypes();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при добавлении типа автобуса:', error.response?.data || error.message);
        }
    };

    const resetForm = () =&gt; {
        setForm({
            name: '',
            capacity: 0,
        });
        setEditBusTypeId(null);
    };

    const editBusType = (busType) =&gt; {
        setForm({
            name: busType.name,
            capacity: busType.capacity,
        });
        setEditBusTypeId(busType.id);
    };

    const updateBusType = async () =&gt; {
        try {
            const response = await axios.put(`/api/bus-types/${editBusTypeId}/`, form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 200) {
                fetchBusTypes();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при обновлении типа автобуса:', error.response?.data || error.message);
        }
    };

    const deleteBusType = async (id) =&gt; {
        if (window.confirm('Вы уверены, что хотите удалить этот тип автобуса?')) {
            try {
                await axios.delete(`/api/bus-types/${id}/`, {
                    headers: { Authorization: `Token ${token}` }
                });
                fetchBusTypes();
            } catch (error) {
                console.error('Ошибка при удалении типа автобуса:', error.response?.data || error.message);
            }
        }
    };

    return (
        &lt;div className=&quot;bus-types-container&quot;&gt;
            &lt;Header&gt;&lt;/Header&gt;
            &lt;h2&gt;Список типов автобусов&lt;/h2&gt;
            &lt;table&gt;
                &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ID&lt;/th&gt;
                    &lt;th&gt;Название&lt;/th&gt;
                    &lt;th&gt;Вместимость&lt;/th&gt;
                    &lt;th&gt;Действия&lt;/th&gt;
                &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                {busTypes.map((busType) =&gt; (
                    &lt;tr key={busType.id}&gt;
                        &lt;td&gt;{busType.id}&lt;/td&gt;
                        &lt;td&gt;{busType.name}&lt;/td&gt;
                        &lt;td&gt;{busType.capacity}&lt;/td&gt;
                        &lt;td&gt;
                            &lt;button onClick={() =&gt; editBusType(busType)}&gt;Редактировать&lt;/button&gt;
                            &lt;button onClick={() =&gt; deleteBusType(busType.id)}&gt;Удалить&lt;/button&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                ))}
                &lt;/tbody&gt;
            &lt;/table&gt;

            &lt;h3&gt;{editBusTypeId ? 'Редактировать тип автобуса' : 'Добавить тип автобуса'}&lt;/h3&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;name&quot;
                placeholder=&quot;Название&quot;
                value={form.name}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;number&quot;
                name=&quot;capacity&quot;
                placeholder=&quot;Вместимость&quot;
                value={form.capacity}
                onChange={handleChange}
                required
            /&gt;

            {editBusTypeId ? (
                &lt;button onClick={updateBusType}&gt;Обновить тип автобуса&lt;/button&gt;
            ) : (
                &lt;button onClick={addBusType}&gt;Добавить тип автобуса&lt;/button&gt;
            )}
        &lt;/div&gt;
    );
};

export default BusTypesPage;

</code></pre>
<h3 id="driverspagejsx">DriversPage.jsx:</h3>
<ul>
<li>Страница Водителей</li>
</ul>
<pre><code class="language-jsx">import React, { useEffect, useState } from 'react';
import axios from 'axios';
import { useToken } from '../stores/token';
import Header from '../components/header.jsx';
import '../Css/DriverPage.css';

const DriversPage = () =&gt; {
    const [drivers, setDrivers] = useState([]);
    const [form, setForm] = useState({
        passport_data: '',
        driver_class: '',
        work_experience: 0,
        salary: '',
        date_of_birth: ''
    });
    const [editDriverId, setEditDriverId] = useState(null);
    const { token } = useToken();

    useEffect(() =&gt; {
        fetchDrivers();
    }, []);

    const fetchDrivers = async () =&gt; {
        try {
            const response = await axios.get('/api/drivers/', {
                headers: { Authorization: `Token ${token}` }
            });
            setDrivers(response.data);
        } catch (error) {
            console.error('Ошибка при получении водителей:', error.response?.data || error.message);
        }
    };

    const handleChange = (e) =&gt; {
        const { name, value } = e.target;
        setForm({
            ...form,
            [name]: value,
        });
    };

    const addDriver = async () =&gt; {
        try {
            const response = await axios.post('/api/drivers/', form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 201) {
                fetchDrivers();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при добавлении водителя:', error.response?.data || error.message);
        }
    };

    const resetForm = () =&gt; {
        setForm({
            passport_data: '',
            driver_class: '',
            work_experience: 0,
            salary: '',
            date_of_birth: ''
        });
        setEditDriverId(null);
    };

    const editDriver = (driver) =&gt; {
        setForm(driver);
        setEditDriverId(driver.id);
    };

    const updateDriver = async () =&gt; {
        try {
            const response = await axios.put(`/api/drivers/${editDriverId}/`, form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 200) {
                fetchDrivers();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при обновлении водителя:', error.response?.data || error.message);
        }
    };

    const deleteDriver = async (id) =&gt; {
        if (window.confirm('Вы уверены, что хотите удалить этого водителя?')) {
            try {
                await axios.delete(`/api/drivers/${id}/`, {
                    headers: { Authorization: `Token ${token}` }
                });
                fetchDrivers();
            } catch (error) {
                console.error('Ошибка при удалении водителя:', error.response?.data || error.message);
            }
        }
    };

    return (
        &lt;div className=&quot;drivers-container&quot;&gt;
            &lt;Header /&gt;
            &lt;h2&gt;Список водителей&lt;/h2&gt;
            &lt;table&gt;
                &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ID&lt;/th&gt;
                    &lt;th&gt;Паспортные данные&lt;/th&gt;
                    &lt;th&gt;Класс водителя&lt;/th&gt;
                    &lt;th&gt;Стаж работы&lt;/th&gt;
                    &lt;th&gt;Зарплата&lt;/th&gt;
                    &lt;th&gt;Дата рождения&lt;/th&gt;
                    &lt;th&gt;Действия&lt;/th&gt;
                &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                {drivers.map((driver) =&gt; (
                    &lt;tr key={driver.id}&gt;
                        &lt;td&gt;{driver.id}&lt;/td&gt;
                        &lt;td&gt;{driver.passport_data}&lt;/td&gt;
                        &lt;td&gt;{driver.driver_class}&lt;/td&gt;
                        &lt;td&gt;{driver.work_experience}&lt;/td&gt;
                        &lt;td&gt;{driver.salary}&lt;/td&gt;
                        &lt;td&gt;{driver.date_of_birth}&lt;/td&gt;
                        &lt;td&gt;
                            &lt;button onClick={() =&gt; editDriver(driver)}&gt;Редактировать&lt;/button&gt;
                            &lt;button onClick={() =&gt; deleteDriver(driver.id)}&gt;Удалить&lt;/button&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                ))}
                &lt;/tbody&gt;
            &lt;/table&gt;

            &lt;h3&gt;{editDriverId ? 'Редактировать водителя' : 'Добавить водителя'}&lt;/h3&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;passport_data&quot;
                placeholder=&quot;Паспортные данные&quot;
                value={form.passport_data}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;driver_class&quot;
                placeholder=&quot;Класс водителя&quot;
                value={form.driver_class}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;number&quot;
                name=&quot;work_experience&quot;
                placeholder=&quot;Стаж работы&quot;
                value={form.work_experience}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;salary&quot;
                placeholder=&quot;Зарплата&quot;
                value={form.salary}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;date&quot;
                name=&quot;date_of_birth&quot;
                placeholder=&quot;Дата рождения&quot;
                value={form.date_of_birth}
                onChange={handleChange}
                required
            /&gt;

            {editDriverId ? (
                &lt;button onClick={updateDriver}&gt;Обновить водителя&lt;/button&gt;
            ) : (
                &lt;button onClick={addDriver}&gt;Добавить водителя&lt;/button&gt;
            )}
        &lt;/div&gt;
    );
};

export default DriversPage;
</code></pre>
<h3 id="routespagejsx">RoutesPage.jsx:</h3>
<ul>
<li>Страница Маршрутов</li>
</ul>
<pre><code class="language-jsx">import React, { useEffect, useState } from 'react';
import axios from 'axios';
import { useToken } from '../stores/token';
import Header from '../components/header.jsx';
import '../Css/RoutePage.css';
const RoutesPage = () =&gt; {
    const [routes, setRoutes] = useState([]);
    const [form, setForm] = useState({
        number: '',
        start_point: '',
        end_point: '',
        operation_start_time: '',
        operation_end_time: '',
        interval: '',
        duration: ''
    });
    const [editRouteId, setEditRouteId] = useState(null);
    const { token } = useToken();

    useEffect(() =&gt; {
        fetchRoutes();
    }, []);

    const fetchRoutes = async () =&gt; {
        try {
            const response = await axios.get('/api/routes/', {
                headers: { Authorization: `Token ${token}` }
            });
            setRoutes(response.data);
        } catch (error) {
            console.error('Ошибка при получении маршрутов:', error.response?.data || error.message);
        }
    };

    const handleChange = (e) =&gt; {
        const { name, value } = e.target;
        setForm({
            ...form,
            [name]: value,
        });
    };

    const addRoute = async () =&gt; {
        try {
            const response = await axios.post('/api/routes/', form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 201) {
                fetchRoutes();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при добавлении маршрута:', error.response?.data || error.message);
        }
    };

    const resetForm = () =&gt; {
        setForm({
            number: '',
            start_point: '',
            end_point: '',
            operation_start_time: '',
            operation_end_time: '',
            interval: '',
            duration: ''
        });
        setEditRouteId(null);
    };

    const editRoute = (route) =&gt; {
        setForm({
            number: route.number,
            start_point: route.start_point,
            end_point: route.end_point,
            operation_start_time: route.operation_start_time,
            operation_end_time: route.operation_end_time,
            interval: route.interval,
            duration: route.duration
        });
        setEditRouteId(route.id);
    };

    const updateRoute = async () =&gt; {
        try {
            const response = await axios.put(`/api/routes/${editRouteId}/`, form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 200) {
                fetchRoutes();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при обновлении маршрута:', error.response?.data || error.message);
        }
    };

    const deleteRoute = async (id) =&gt; {
        if (window.confirm('Вы уверены, что хотите удалить этот маршрут?')) {
            try {
                await axios.delete(`/api/routes/${id}/`, {
                    headers: { Authorization: `Token ${token}` }
                });
                fetchRoutes();
            } catch (error) {
                console.error('Ошибка при удалении маршрута:', error.response?.data || error.message);
            }
        }
    };

    return (
        &lt;div className=&quot;routes-container&quot;&gt;
            &lt;Header&gt;&lt;/Header&gt;
            &lt;h2&gt;Список маршрутов&lt;/h2&gt;
            &lt;table&gt;
                &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ID&lt;/th&gt;
                    &lt;th&gt;Номер&lt;/th&gt;
                    &lt;th&gt;Начальная точка&lt;/th&gt;
                    &lt;th&gt;Конечная точка&lt;/th&gt;
                    &lt;th&gt;Время начала работы&lt;/th&gt;
                    &lt;th&gt;Время окончания работы&lt;/th&gt;
                    &lt;th&gt;Интервал&lt;/th&gt;
                    &lt;th&gt;Продолжительность&lt;/th&gt;
                    &lt;th&gt;Действия&lt;/th&gt;
                &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                {routes.map((route) =&gt; (
                    &lt;tr key={route.id}&gt;
                        &lt;td&gt;{route.id}&lt;/td&gt;
                        &lt;td&gt;{route.number}&lt;/td&gt;
                        &lt;td&gt;{route.start_point}&lt;/td&gt;
                        &lt;td&gt;{route.end_point}&lt;/td&gt;
                        &lt;td&gt;{route.operation_start_time}&lt;/td&gt;
                        &lt;td&gt;{route.operation_end_time}&lt;/td&gt;
                        &lt;td&gt;{route.interval}&lt;/td&gt;
                        &lt;td&gt;{route.duration}&lt;/td&gt;
                        &lt;td&gt;
                            &lt;button onClick={() =&gt; editRoute(route)}&gt;Редактировать&lt;/button&gt;
                            &lt;button onClick={() =&gt; deleteRoute(route.id)}&gt;Удалить&lt;/button&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                ))}
                &lt;/tbody&gt;
            &lt;/table&gt;

            &lt;h3&gt;{editRouteId ? 'Редактировать маршрут' : 'Добавить маршрут'}&lt;/h3&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;number&quot;
                placeholder=&quot;Номер&quot;
                value={form.number}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;start_point&quot;
                placeholder=&quot;Начальная точка&quot;
                value={form.start_point}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;end_point&quot;
                placeholder=&quot;Конечная точка&quot;
                value={form.end_point}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;time&quot;
                name=&quot;operation_start_time&quot;
                placeholder=&quot;Время начала работы&quot;
                value={form.operation_start_time}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;time&quot;
                name=&quot;operation_end_time&quot;
                placeholder=&quot;Время окончания работы&quot;
                value={form.operation_end_time}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;interval&quot;
                placeholder=&quot;Интервал&quot;
                value={form.interval}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;duration&quot;
                placeholder=&quot;Продолжительность&quot;
                value={form.duration}
                onChange={handleChange}
                required
            /&gt;

            {editRouteId ? (
                &lt;button onClick={updateRoute}&gt;Обновить маршрут&lt;/button&gt;
            ) : (
                &lt;button onClick={addRoute}&gt;Добавить маршрут&lt;/button&gt;
            )}
        &lt;/div&gt;
    );
};

export default RoutesPage;

</code></pre>
<h3 id="workshiftspagejsx">WorkShiftsPage.jsx:</h3>
<ul>
<li>Страница Смен</li>
</ul>
<pre><code class="language-jsx">import React, { useEffect, useState } from 'react';
import axios from 'axios';
import { useToken } from '../stores/token';
import Header from '../components/header.jsx';
import '../Css/WorkShiftsPage.css';

const WorkShiftsPage = () =&gt; {
    const [workShifts, setWorkShifts] = useState([]);
    const [drivers, setDrivers] = useState([]);
    const [buses, setBuses] = useState([]);
    const [routes, setRoutes] = useState([]);
    const [form, setForm] = useState({
        date: '',
        shift_start_time: '',
        shift_end_time: '',
        status: 'Worked',
        reason: '',
        driver: 0,
        bus: 0,
        route: 0
    });
    const [editShiftId, setEditShiftId] = useState(null);
    const { token } = useToken();

    useEffect(() =&gt; {
        fetchWorkShifts();
        fetchDrivers();
        fetchBuses();
        fetchRoutes();
    }, []);

    const fetchWorkShifts = async () =&gt; {
        try {
            const response = await axios.get('/api/work-shifts/', {
                headers: { Authorization: `Token ${token}` }
            });
            setWorkShifts(response.data);
        } catch (error) {
            console.error('Ошибка при получении рабочих смен:', error.response?.data || error.message);
        }
    };

    const fetchDrivers = async () =&gt; {
        try {
            const response = await axios.get('/api/drivers/', {
                headers: { Authorization: `Token ${token}` }
            });
            setDrivers(response.data);
        } catch (error) {
            console.error('Ошибка при получении водителей:', error.response?.data || error.message);
        }
    };

    const fetchBuses = async () =&gt; {
        try {
            const response = await axios.get('/api/buses/', {
                headers: { Authorization: `Token ${token}` }
            });
            setBuses(response.data);
        } catch (error) {
            console.error('Ошибка при получении автобусов:', error.response?.data || error.message);
        }
    };

    const fetchRoutes = async () =&gt; {
        try {
            const response = await axios.get('/api/routes/', {
                headers: { Authorization: `Token ${token}` }
            });
            setRoutes(response.data);
        } catch (error) {
            console.error('Ошибка при получении маршрутов:', error.response?.data || error.message);
        }
    };

    const handleChange = (e) =&gt; {
        const { name, value } = e.target;
        setForm({
            ...form,
            [name]: value,
        });
    };

    const addWorkShift = async () =&gt; {
        try {
            const response = await axios.post('/api/work-shifts/', form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 201) {
                fetchWorkShifts();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при добавлении рабочей смены:', error.response?.data || error.message);
        }
    };

    const resetForm = () =&gt; {
        setForm({
            date: '',
            shift_start_time: '',
            shift_end_time: '',
            status: 'Worked',
            reason: '',
            driver: 0,
            bus: 0,
            route: 0
        });
        setEditShiftId(null);
    };

    const editWorkShift = (shift) =&gt; {
        setForm(shift);
        setEditShiftId(shift.id);
    };

    const updateWorkShift = async () =&gt; {
        try {
            const response = await axios.put(`/api/work-shifts/${editShiftId}/`, form, {
                headers: { Authorization: `Token ${token}` }
            });
            if (response.status === 200) {
                fetchWorkShifts();
                resetForm();
            }
        } catch (error) {
            console.error('Ошибка при обновлении рабочей смены:', error.response?.data || error.message);
        }
    };

    const deleteWorkShift = async (id) =&gt; {
        if (window.confirm('Вы уверены, что хотите удалить эту рабочую смену?')) {
            try {
                await axios.delete(`/api/work-shifts/${id}/`, {
                    headers: { Authorization: `Token ${token}` }
                });
                fetchWorkShifts();
            } catch (error) {
                console.error('Ошибка при удалении рабочей смены:', error.response?.data || error.message);
            }
        }
    };

    return (
        &lt;div className=&quot;work-shifts-container&quot;&gt;
            &lt;Header /&gt;
            &lt;h2&gt;Список рабочих смен&lt;/h2&gt;
            &lt;table&gt;
                &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ID&lt;/th&gt;
                    &lt;th&gt;Дата&lt;/th&gt;
                    &lt;th&gt;Время начала&lt;/th&gt;
                    &lt;th&gt;Время окончания&lt;/th&gt;
                    &lt;th&gt;Статус&lt;/th&gt;
                    &lt;th&gt;Причина&lt;/th&gt;
                    &lt;th&gt;Водитель&lt;/th&gt;
                    &lt;th&gt;Автобус&lt;/th&gt;
                    &lt;th&gt;Маршрут&lt;/th&gt;
                    &lt;th&gt;Действия&lt;/th&gt;
                &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                {workShifts.map((shift) =&gt; (
                    &lt;tr key={shift.id}&gt;
                        &lt;td&gt;{shift.id}&lt;/td&gt;
                        &lt;td&gt;{shift.date}&lt;/td&gt;
                        &lt;td&gt;{shift.shift_start_time}&lt;/td&gt;
                        &lt;td&gt;{shift.shift_end_time}&lt;/td&gt;
                        &lt;td&gt;{shift.status}&lt;/td&gt;
                        &lt;td&gt;{shift.reason}&lt;/td&gt;
                        &lt;td&gt;{shift.driver}&lt;/td&gt;
                        &lt;td&gt;{shift.bus}&lt;/td&gt;
                        &lt;td&gt;{shift.route}&lt;/td&gt;
                        &lt;td&gt;
                            &lt;button onClick={() =&gt; editWorkShift(shift)}&gt;Редактировать&lt;/button&gt;
                            &lt;button onClick={() =&gt; deleteWorkShift(shift.id)}&gt;Удалить&lt;/button&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                ))}
                &lt;/tbody&gt;
            &lt;/table&gt;

            &lt;h3&gt;{editShiftId ? 'Редактировать рабочую смену' : 'Добавить рабочую смену'}&lt;/h3&gt;

            &lt;input
                type=&quot;date&quot;
                name=&quot;date&quot;
                placeholder=&quot;Дата&quot;
                value={form.date}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;time&quot;
                name=&quot;shift_start_time&quot;
                placeholder=&quot;Время начала&quot;
                value={form.shift_start_time}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;time&quot;
                name=&quot;shift_end_time&quot;
                placeholder=&quot;Время окончания&quot;
                value={form.shift_end_time}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;status&quot;
                placeholder=&quot;Статус&quot;
                value={form.status}
                onChange={handleChange}
                required
            /&gt;
            &lt;input
                type=&quot;text&quot;
                name=&quot;reason&quot;
                placeholder=&quot;Причина&quot;
                value={form.reason}
                onChange={handleChange}
            /&gt;

            &lt;h4&gt;Выберите водителя:&lt;/h4&gt;
            &lt;select name=&quot;driver&quot; value={form.driver} onChange={handleChange} required&gt;
                &lt;option value=&quot;&quot;&gt;Выберите водителя&lt;/option&gt;
                {drivers.map(driver =&gt; (
                    &lt;option key={driver.id} value={driver.id}&gt;
                        {driver.passport_data} - {driver.driver_class}
                    &lt;/option&gt;
                ))}
            &lt;/select&gt;

            &lt;h4&gt;Выберите автобус:&lt;/h4&gt;
            &lt;select name=&quot;bus&quot; value={form.bus} onChange={handleChange} required&gt;
                &lt;option value=&quot;&quot;&gt;Выберите автобус&lt;/option&gt;
                {buses.map(bus =&gt; (
                    &lt;option key={bus.id} value={bus.id}&gt;
                        {bus.registration_number}
                    &lt;/option&gt;
                ))}
            &lt;/select&gt;

            &lt;h4&gt;Выберите маршрут:&lt;/h4&gt;
            &lt;select name=&quot;route&quot; value={form.route} onChange={handleChange} required&gt;
                &lt;option value=&quot;&quot;&gt;Выберите маршрут&lt;/option&gt;
                {routes.map(route =&gt; (
                    &lt;option key={route.id} value={route.id}&gt;
                        {route.number} - {route.start_point} до {route.end_point}
                    &lt;/option&gt;
                ))}
            &lt;/select&gt;

            {editShiftId ? (
                &lt;button onClick={updateWorkShift}&gt;Обновить рабочую смену&lt;/button&gt;
            ) : (
                &lt;button onClick={addWorkShift}&gt;Добавить рабочую смену&lt;/button&gt;
            )}
        &lt;/div&gt;
    );
};

export default WorkShiftsPage;

</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
